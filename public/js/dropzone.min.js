(function(){function k(r){var l=k.modules[r];if(!l)throw Error('failed to require "'+r+'"');"exports"in l||"function"!==typeof l.definition||(l.client=l.component=!0,l.definition.call(this,l.exports={},l),delete l.definition);return l.exports}k.modules={};k.register=function(r,l){k.modules[r]={definition:l}};k.define=function(r,l){k.modules[r]={exports:l}};k.register("component~emitter@1.1.2",function(k,l){function h(l){if(l){for(var k in h.prototype)l[k]=h.prototype[k];return l}}l.exports=h;h.prototype.on=
h.prototype.addEventListener=function(h,l){this._callbacks=this._callbacks||{};(this._callbacks[h]=this._callbacks[h]||[]).push(l);return this};h.prototype.once=function(h,l){function k(){p.off(h,k);l.apply(this,arguments)}var p=this;this._callbacks=this._callbacks||{};k.fn=l;this.on(h,k);return this};h.prototype.off=h.prototype.removeListener=h.prototype.removeAllListeners=h.prototype.removeEventListener=function(h,l){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks=
{},this;var k=this._callbacks[h];if(!k)return this;if(1==arguments.length)return delete this._callbacks[h],this;for(var p,n=0;n<k.length;n++)if(p=k[n],p===l||p.fn===l){k.splice(n,1);break}return this};h.prototype.emit=function(h){this._callbacks=this._callbacks||{};var l=[].slice.call(arguments,1),k=this._callbacks[h];if(k)for(var k=k.slice(0),p=0,n=k.length;p<n;++p)k[p].apply(this,l);return this};h.prototype.listeners=function(h){this._callbacks=this._callbacks||{};return this._callbacks[h]||[]};
h.prototype.hasListeners=function(h){return!!this.listeners(h).length}});k.register("dropzone",function(r,l){l.exports=k("dropzone/lib/dropzone.js")});k.register("dropzone/lib/dropzone.js",function(r,l){(function(){var h,r,u,x,p,n,y,A={}.hasOwnProperty,B=function(g,c){function h(){this.constructor=g}for(var a in c)A.call(c,a)&&(g[a]=c[a]);h.prototype=c.prototype;g.prototype=new h;g.__super__=c.prototype;return g},C=[].slice;r="undefined"!==typeof Emitter&&null!==Emitter?Emitter:k("component~emitter@1.1.2");
n=function(){};h=function(g){function c(a,b){var d,e,f;this.element=a;this.version=c.version;this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,"");this.clickableElements=[];this.listeners=[];this.files=[];"string"===typeof this.element&&(this.element=document.querySelector(this.element));if(!this.element||null==this.element.nodeType)throw Error("Invalid dropzone element.");if(this.element.dropzone)throw Error("Dropzone already attached.");c.instances.push(this);
this.element.dropzone=this;d=null!=(f=c.optionsForElement(this.element))?f:{};this.options=h({},this.defaultOptions,d,null!=b?b:{});if(this.options.forceFallback||!c.isBrowserSupported())return this.options.fallback.call(this);null==this.options.url&&(this.options.url=this.element.getAttribute("action"));if(!this.options.url)throw Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");
this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes);this.options.method=this.options.method.toUpperCase();(e=this.getExistingFallback())&&e.parentNode&&e.parentNode.removeChild(e);!1!==this.options.previewsContainer&&(this.previewsContainer=this.options.previewsContainer?c.getElement(this.options.previewsContainer,"previewsContainer"):this.element);this.options.clickable&&(this.clickableElements=!0===this.options.clickable?
[this.element]:c.getElements(this.options.clickable,"clickable"));this.init()}var h;B(c,g);c.prototype.events="drop dragstart dragend dragenter dragover dragleave addedfile removedfile thumbnail error errormultiple processing processingmultiple uploadprogress totaluploadprogress sending sendingmultiple success successmultiple canceled canceledmultiple complete completemultiple reset maxfilesexceeded maxfilesreached".split(" ");c.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,
parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:100,thumbnailHeight:100,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",
dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(a,b){return b()},init:function(){return n},forceFallback:!1,
fallback:function(){var a,b,d,e,f;this.element.className=""+this.element.className+" dz-browser-not-supported";f=this.element.getElementsByTagName("div");d=0;for(e=f.length;d<e;d++)a=f[d],/(^| )dz-message($| )/.test(a.className)&&(b=a,a.className="dz-message");b||(b=c.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(b));if(a=b.getElementsByTagName("span")[0])a.textContent=this.options.dictFallbackMessage;return this.element.appendChild(this.getFallbackForm())},
resize:function(a){var b,d,e;b={srcX:0,srcY:0,srcWidth:a.width,srcHeight:a.height};d=a.width/a.height;b.optWidth=this.options.thumbnailWidth;b.optHeight=this.options.thumbnailHeight;null==b.optWidth&&null==b.optHeight?(b.optWidth=b.srcWidth,b.optHeight=b.srcHeight):null==b.optWidth?b.optWidth=d*b.optHeight:null==b.optHeight&&(b.optHeight=1/d*b.optWidth);e=b.optWidth/b.optHeight;a.height<b.optHeight||a.width<b.optWidth?(b.trgHeight=b.srcHeight,b.trgWidth=b.srcWidth):d>e?(b.srcHeight=a.height,b.srcWidth=
b.srcHeight*e):(b.srcWidth=a.width,b.srcHeight=b.srcWidth/e);b.srcX=(a.width-b.srcWidth)/2;b.srcY=(a.height-b.srcHeight)/2;return b},drop:function(a){return this.element.classList.remove("dz-drag-hover")},dragstart:n,dragend:function(a){return this.element.classList.remove("dz-drag-hover")},dragenter:function(a){return this.element.classList.add("dz-drag-hover")},dragover:function(a){return this.element.classList.add("dz-drag-hover")},dragleave:function(a){return this.element.classList.remove("dz-drag-hover")},
paste:n,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(a){var b,d,e,f,m,s;this.element===this.previewsContainer&&this.element.classList.add("dz-started");if(this.previewsContainer){a.previewElement=c.createElement(this.options.previewTemplate.trim());a.previewTemplate=a.previewElement;this.previewsContainer.appendChild(a.previewElement);f=a.previewElement.querySelectorAll("[data-dz-name]");d=0;for(e=f.length;d<e;d++)b=f[d],b.textContent=a.name;f=a.previewElement.querySelectorAll("[data-dz-size]");
d=0;for(e=f.length;d<e;d++)b=f[d],b.innerHTML=this.filesize(a.size);this.options.addRemoveLinks&&(a._removeLink=c.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),a.previewElement.appendChild(a._removeLink));b=function(b){return function(d){d.preventDefault();d.stopPropagation();return a.status===c.UPLOADING?c.confirm(b.options.dictCancelUploadConfirmation,function(){return b.removeFile(a)}):b.options.dictRemoveFileConfirmation?
c.confirm(b.options.dictRemoveFileConfirmation,function(){return b.removeFile(a)}):b.removeFile(a)}}(this);m=a.previewElement.querySelectorAll("[data-dz-remove]");s=[];e=0;for(f=m.length;e<f;e++)d=m[e],s.push(d.addEventListener("click",b));return s}},removedfile:function(a){var b;a.previewElement&&null!=(b=a.previewElement)&&b.parentNode.removeChild(a.previewElement);return this._updateMaxFilesReachedClass()},thumbnail:function(a,b){var d,e,c,m,s;if(a.previewElement){a.previewElement.classList.remove("dz-file-preview");
a.previewElement.classList.add("dz-image-preview");m=a.previewElement.querySelectorAll("[data-dz-thumbnail]");s=[];e=0;for(c=m.length;e<c;e++)d=m[e],d.alt=a.name,s.push(d.src=b);return s}},error:function(a,b){var d,e,c,m,s;if(a.previewElement){a.previewElement.classList.add("dz-error");"String"!==typeof b&&b.error&&(b=b.error);m=a.previewElement.querySelectorAll("[data-dz-errormessage]");s=[];e=0;for(c=m.length;e<c;e++)d=m[e],s.push(d.textContent=b);return s}},errormultiple:n,processing:function(a){if(a.previewElement&&
(a.previewElement.classList.add("dz-processing"),a._removeLink))return a._removeLink.textContent=this.options.dictCancelUpload},processingmultiple:n,uploadprogress:function(a,b,d){var e,c,m;if(a.previewElement){c=a.previewElement.querySelectorAll("[data-dz-uploadprogress]");m=[];d=0;for(e=c.length;d<e;d++)a=c[d],m.push(a.style.width=""+b+"%");return m}},totaluploadprogress:n,sending:n,sendingmultiple:n,success:function(a){if(a.previewElement)return a.previewElement.classList.add("dz-success")},successmultiple:n,
canceled:function(a){return this.emit("error",a,"Upload canceled.")},canceledmultiple:n,complete:function(a){if(a._removeLink)return a._removeLink.textContent=this.options.dictRemoveFile},completemultiple:n,maxfilesexceeded:n,maxfilesreached:n,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-details">\n    <div class="dz-filename"><span data-dz-name></span></div>\n    <div class="dz-size" data-dz-size></div>\n    <img data-dz-thumbnail />\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-success-mark"><span>\u2714</span></div>\n  <div class="dz-error-mark"><span>\u2718</span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n</div>'};
h=function(){var a,b,d,e,c,m,s;e=arguments[0];d=2<=arguments.length?C.call(arguments,1):[];m=0;for(s=d.length;m<s;m++)for(a in b=d[m],b)c=b[a],e[a]=c;return e};c.prototype.getAcceptedFiles=function(){var a,b,d,c,f;c=this.files;f=[];b=0;for(d=c.length;b<d;b++)a=c[b],a.accepted&&f.push(a);return f};c.prototype.getRejectedFiles=function(){var a,b,d,c,f;c=this.files;f=[];b=0;for(d=c.length;b<d;b++)a=c[b],a.accepted||f.push(a);return f};c.prototype.getFilesWithStatus=function(a){var b,d,c,f,m;f=this.files;
m=[];d=0;for(c=f.length;d<c;d++)b=f[d],b.status===a&&m.push(b);return m};c.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(c.QUEUED)};c.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(c.UPLOADING)};c.prototype.getActiveFiles=function(){var a,b,d,e,f;e=this.files;f=[];b=0;for(d=e.length;b<d;b++)a=e[b],a.status!==c.UPLOADING&&a.status!==c.QUEUED||f.push(a);return f};c.prototype.init=function(){var a,b,d,e,f,m;"form"===this.element.tagName&&this.element.setAttribute("enctype",
"multipart/form-data");this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(c.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>"));this.clickableElements.length&&(d=function(a){return function(){a.hiddenFileInput&&document.body.removeChild(a.hiddenFileInput);a.hiddenFileInput=document.createElement("input");a.hiddenFileInput.setAttribute("type","file");(null==a.options.maxFiles||1<a.options.maxFiles)&&
a.hiddenFileInput.setAttribute("multiple","multiple");a.hiddenFileInput.className="dz-hidden-input";null!=a.options.acceptedFiles&&a.hiddenFileInput.setAttribute("accept",a.options.acceptedFiles);a.hiddenFileInput.style.visibility="hidden";a.hiddenFileInput.style.position="absolute";a.hiddenFileInput.style.top="0";a.hiddenFileInput.style.left="0";a.hiddenFileInput.style.height="0";a.hiddenFileInput.style.width="0";document.body.appendChild(a.hiddenFileInput);return a.hiddenFileInput.addEventListener("change",
function(){var b,c,e,f;c=a.hiddenFileInput.files;if(c.length)for(e=0,f=c.length;e<f;e++)b=c[e],a.addFile(b);return d()})}}(this),d());this.URL=null!=(a=window.URL)?a:window.webkitURL;m=this.events;e=0;for(f=m.length;e<f;e++)a=m[e],this.on(a,this.options[a]);this.on("uploadprogress",function(a){return function(){return a.updateTotalUploadProgress()}}(this));this.on("removedfile",function(a){return function(){return a.updateTotalUploadProgress()}}(this));this.on("canceled",function(a){return function(b){return a.emit("complete",
b)}}(this));this.on("complete",function(a){return function(b){if(0===a.getUploadingFiles().length&&0===a.getQueuedFiles().length)return setTimeout(function(){return a.emit("queuecomplete")},0)}}(this));b=function(a){a.stopPropagation();return a.preventDefault?a.preventDefault():a.returnValue=!1};this.listeners=[{element:this.element,events:{dragstart:function(a){return function(b){return a.emit("dragstart",b)}}(this),dragenter:function(a){return function(d){b(d);return a.emit("dragenter",d)}}(this),
dragover:function(a){return function(d){var c;try{c=d.dataTransfer.effectAllowed}catch(e){}d.dataTransfer.dropEffect="move"===c||"linkMove"===c?"move":"copy";b(d);return a.emit("dragover",d)}}(this),dragleave:function(a){return function(b){return a.emit("dragleave",b)}}(this),drop:function(a){return function(d){b(d);return a.drop(d)}}(this),dragend:function(a){return function(b){return a.emit("dragend",b)}}(this)}}];this.clickableElements.forEach(function(a){return function(b){return a.listeners.push({element:b,
events:{click:function(d){if(b!==a.element||d.target===a.element||c.elementInside(d.target,a.element.querySelector(".dz-message")))return a.hiddenFileInput.click()}}})}}(this));this.enable();return this.options.init.call(this)};c.prototype.destroy=function(){var a;this.disable();this.removeAllFiles(!0);null!=(a=this.hiddenFileInput)&&a.parentNode&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null);delete this.element.dropzone;return c.instances.splice(c.instances.indexOf(this),
1)};c.prototype.updateTotalUploadProgress=function(){var a,b,d,c,f,m;b=d=0;if(this.getActiveFiles().length){m=this.getActiveFiles();c=0;for(f=m.length;c<f;c++)a=m[c],d+=a.upload.bytesSent,b+=a.upload.total;a=100*d/b}else a=100;return this.emit("totaluploadprogress",a,b,d)};c.prototype._getParamName=function(a){return"function"===typeof this.options.paramName?this.options.paramName(a):""+this.options.paramName+(this.options.uploadMultiple?"["+a+"]":"")};c.prototype.getFallbackForm=function(){var a,
b;if(a=this.getExistingFallback())return a;a='<div class="dz-fallback">';this.options.dictFallbackText&&(a+="<p>"+this.options.dictFallbackText+"</p>");a+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>';a=c.createElement(a);"FORM"!==this.element.tagName?(b=c.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),b.appendChild(a)):
(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method));return null!=b?b:a};c.prototype.getExistingFallback=function(){var a,b,d,c,f;b=function(a){var b,d,c;d=0;for(c=a.length;d<c;d++)if(b=a[d],/(^| )fallback($| )/.test(b.className))return b};f=["div","form"];d=0;for(c=f.length;d<c;d++)if(a=f[d],a=b(this.element.getElementsByTagName(a)))return a};c.prototype.setupEventListeners=function(){var a,b,d,c,f,m,g;m=this.listeners;g=[];c=0;for(f=
m.length;c<f;c++)a=m[c],g.push(function(){var c,e;c=a.events;e=[];for(b in c)d=c[b],e.push(a.element.addEventListener(b,d,!1));return e}());return g};c.prototype.removeEventListeners=function(){var a,b,d,c,f,m,g;m=this.listeners;g=[];c=0;for(f=m.length;c<f;c++)a=m[c],g.push(function(){var c,e;c=a.events;e=[];for(b in c)d=c[b],e.push(a.element.removeEventListener(b,d,!1));return e}());return g};c.prototype.disable=function(){var a,b,d,c,f;this.clickableElements.forEach(function(a){return a.classList.remove("dz-clickable")});
this.removeEventListeners();c=this.files;f=[];b=0;for(d=c.length;b<d;b++)a=c[b],f.push(this.cancelUpload(a));return f};c.prototype.enable=function(){this.clickableElements.forEach(function(a){return a.classList.add("dz-clickable")});return this.setupEventListeners()};c.prototype.filesize=function(a){var b;1.099511627776E11<=a?(a/=1.099511627776E11,b="TiB"):1.073741824E8<=a?(a/=1.073741824E8,b="GiB"):104857.6<=a?(a/=104857.6,b="MiB"):102.4<=a?(a/=102.4,b="KiB"):(a*=10,b="b");return"<strong>"+Math.round(a)/
10+"</strong> "+b};c.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")};c.prototype.drop=function(a){var b;a.dataTransfer&&(this.emit("drop",a),b=a.dataTransfer.files,b.length&&((a=a.dataTransfer.items)&&a.length&&
null!=a[0].webkitGetAsEntry?this._addFilesFromItems(a):this.handleFiles(b)))};c.prototype.paste=function(a){var b;if(null!=(null!=a?null!=(b=a.clipboardData)?b.items:void 0:void 0)&&(this.emit("paste",a),a=a.clipboardData.items,a.length))return this._addFilesFromItems(a)};c.prototype.handleFiles=function(a){var b,c,e,f;f=[];c=0;for(e=a.length;c<e;c++)b=a[c],f.push(this.addFile(b));return f};c.prototype._addFilesFromItems=function(a){var b,c,e,f,m;m=[];e=0;for(f=a.length;e<f;e++)c=a[e],null!=c.webkitGetAsEntry&&
(b=c.webkitGetAsEntry())?b.isFile?m.push(this.addFile(c.getAsFile())):b.isDirectory?m.push(this._addFilesFromDirectory(b,b.name)):m.push(void 0):null!=c.getAsFile?null==c.kind||"file"===c.kind?m.push(this.addFile(c.getAsFile())):m.push(void 0):m.push(void 0);return m};c.prototype._addFilesFromDirectory=function(a,b){var c,e;c=a.createReader();e=function(a){return function(c){var d,e,g;e=0;for(g=c.length;e<g;e++)d=c[e],d.isFile?d.file(function(c){if(!a.options.ignoreHiddenFiles||"."!==c.name.substring(0,
1))return c.fullPath=""+b+"/"+c.name,a.addFile(c)}):d.isDirectory&&a._addFilesFromDirectory(d,""+b+"/"+d.name)}}(this);return c.readEntries(e,function(a){return"undefined"!==typeof console&&null!==console?"function"===typeof console.log?console.log(a):void 0:void 0})};c.prototype.accept=function(a,b){return a.size>1048576*this.options.maxFilesize?b(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(a.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):c.isValidFile(a,
this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(b(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",a)):this.options.accept.call(this,a,b):b(this.options.dictInvalidFileType)};c.prototype.addFile=function(a){a.upload={progress:0,total:a.size,bytesSent:0};this.files.push(a);a.status=c.ADDED;this.emit("addedfile",a);this._enqueueThumbnail(a);return this.accept(a,function(b){return function(c){c?
(a.accepted=!1,b._errorProcessing([a],c)):(a.accepted=!0,b.options.autoQueue&&b.enqueueFile(a));return b._updateMaxFilesReachedClass()}}(this))};c.prototype.enqueueFiles=function(a){var b,c,e;c=0;for(e=a.length;c<e;c++)b=a[c],this.enqueueFile(b);return null};c.prototype.enqueueFile=function(a){if(a.status===c.ADDED&&!0===a.accepted){if(a.status=c.QUEUED,this.options.autoProcessQueue)return setTimeout(function(a){return function(){return a.processQueue()}}(this),0)}else throw Error("This file can't be queued because it has already been processed or was rejected.");
};c.prototype._thumbnailQueue=[];c.prototype._processingThumbnail=!1;c.prototype._enqueueThumbnail=function(a){if(this.options.createImageThumbnails&&a.type.match(/image.*/)&&a.size<=1048576*this.options.maxThumbnailFilesize)return this._thumbnailQueue.push(a),setTimeout(function(a){return function(){return a._processThumbnailQueue()}}(this),0)};c.prototype._processThumbnailQueue=function(){if(!this._processingThumbnail&&0!==this._thumbnailQueue.length)return this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),
function(a){return function(){a._processingThumbnail=!1;return a._processThumbnailQueue()}}(this))};c.prototype.removeFile=function(a){a.status===c.UPLOADING&&this.cancelUpload(a);this.files=y(this.files,a);this.emit("removedfile",a);if(0===this.files.length)return this.emit("reset")};c.prototype.removeAllFiles=function(a){var b,d,e,f;null==a&&(a=!1);f=this.files.slice();d=0;for(e=f.length;d<e;d++)b=f[d],(b.status!==c.UPLOADING||a)&&this.removeFile(b);return null};c.prototype.createThumbnail=function(a,
b){var c;c=new FileReader;c.onload=function(e){return function(){var f;f=document.createElement("img");f.onload=function(){var c,d,g,h,z,l,k;a.width=f.width;a.height=f.height;g=e.options.resize.call(e,a);null==g.trgWidth&&(g.trgWidth=g.optWidth);null==g.trgHeight&&(g.trgHeight=g.optHeight);c=document.createElement("canvas");d=c.getContext("2d");c.width=g.trgWidth;c.height=g.trgHeight;p(d,f,null!=(h=g.srcX)?h:0,null!=(z=g.srcY)?z:0,g.srcWidth,g.srcHeight,null!=(l=g.trgX)?l:0,null!=(k=g.trgY)?k:0,g.trgWidth,
g.trgHeight);c=c.toDataURL("image/png");e.emit("thumbnail",a,c);if(null!=b)return b()};return f.src=c.result}}(this);return c.readAsDataURL(a)};c.prototype.processQueue=function(){var a,b,c,e;b=this.options.parallelUploads;a=c=this.getUploadingFiles().length;if(!(c>=b)&&(e=this.getQueuedFiles(),0<e.length)){if(this.options.uploadMultiple)return this.processFiles(e.slice(0,b-c));for(;a<b&&e.length;)this.processFile(e.shift()),a++}};c.prototype.processFile=function(a){return this.processFiles([a])};
c.prototype.processFiles=function(a){var b,d,e;d=0;for(e=a.length;d<e;d++)b=a[d],b.processing=!0,b.status=c.UPLOADING,this.emit("processing",b);this.options.uploadMultiple&&this.emit("processingmultiple",a);return this.uploadFiles(a)};c.prototype._getFilesWithXhr=function(a){var b,c,e,f,g;f=this.files;g=[];c=0;for(e=f.length;c<e;c++)b=f[c],b.xhr===a&&g.push(b);return g};c.prototype.cancelUpload=function(a){var b,d,e,f;if(a.status===c.UPLOADING){d=this._getFilesWithXhr(a.xhr);e=0;for(f=d.length;e<
f;e++)b=d[e],b.status=c.CANCELED;a.xhr.abort();a=0;for(e=d.length;a<e;a++)b=d[a],this.emit("canceled",b);this.options.uploadMultiple&&this.emit("canceledmultiple",d)}else if((b=a.status)===c.ADDED||b===c.QUEUED)a.status=c.CANCELED,this.emit("canceled",a),this.options.uploadMultiple&&this.emit("canceledmultiple",[a]);if(this.options.autoProcessQueue)return this.processQueue()};c.prototype.uploadFile=function(a){return this.uploadFiles([a])};c.prototype.uploadFiles=function(a){var b,d,e,f,g,l,k,n,t,
p,r,q,u,v,w;q=new XMLHttpRequest;f=0;for(g=a.length;f<g;f++)b=a[f],b.xhr=q;q.open(this.options.method,this.options.url,!0);q.withCredentials=!!this.options.withCredentials;p=null;e=function(c){return function(){var d,e,f;f=[];d=0;for(e=a.length;d<e;d++)b=a[d],f.push(c._errorProcessing(a,p||c.options.dictResponseError.replace("{{statusCode}}",q.status),q));return f}}(this);r=function(c){return function(d){var e,f,g;if(null!=d)for(e=100*d.loaded/d.total,f=0,g=a.length;f<g;f++)b=a[f],b.upload={progress:e,
total:d.total,bytesSent:d.loaded};else{d=!0;e=100;f=0;for(g=a.length;f<g;f++){b=a[f];if(100!==b.upload.progress||b.upload.bytesSent!==b.upload.total)d=!1;b.upload.progress=e;b.upload.bytesSent=b.upload.total}if(d)return}g=[];d=0;for(f=a.length;d<f;d++)b=a[d],g.push(c.emit("uploadprogress",b,e,b.upload.bytesSent));return g}}(this);q.onload=function(b){return function(d){var f;if(a[0].status!==c.CANCELED&&4===q.readyState){p=q.responseText;if(q.getResponseHeader("content-type")&&~q.getResponseHeader("content-type").indexOf("application/json"))try{p=
JSON.parse(p)}catch(g){d=g,p="Invalid JSON response from server."}r();return 200<=(f=q.status)&&300>f?b._finished(a,p,d):e()}}}(this);q.onerror=function(b){return function(){if(a[0].status!==c.CANCELED)return e()}}(this);(null!=(v=q.upload)?v:q).onprogress=r;g={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};this.options.headers&&h(g,this.options.headers);for(d in g)f=g[d],q.setRequestHeader(d,f);d=new FormData;if(this.options.params)for(n in g=this.options.params,
g)f=g[n],d.append(n,f);n=0;for(f=a.length;n<f;n++)b=a[n],this.emit("sending",b,q,d);this.options.uploadMultiple&&this.emit("sendingmultiple",a,q,d);if("FORM"===this.element.tagName)for(v=this.element.querySelectorAll("input, textarea, select, button"),f=0,g=v.length;f<g;f++)if(k=v[f],n=k.getAttribute("name"),t=k.getAttribute("type"),"SELECT"===k.tagName&&k.hasAttribute("multiple"))for(w=k.options,t=0,u=w.length;t<u;t++)k=w[t],k.selected&&d.append(n,k.value);else(!t||"checkbox"!==(l=t.toLowerCase())&&
"radio"!==l||k.checked)&&d.append(n,k.value);l=n=0;for(f=a.length-1;0<=f?n<=f:n>=f;l=0<=f?++n:--n)d.append(this._getParamName(l),a[l],a[l].name);return q.send(d)};c.prototype._finished=function(a,b,d){var e,f,g;f=0;for(g=a.length;f<g;f++)e=a[f],e.status=c.SUCCESS,this.emit("success",e,b,d),this.emit("complete",e);this.options.uploadMultiple&&(this.emit("successmultiple",a,b,d),this.emit("completemultiple",a));if(this.options.autoProcessQueue)return this.processQueue()};c.prototype._errorProcessing=
function(a,b,d){var e,f,g;f=0;for(g=a.length;f<g;f++)e=a[f],e.status=c.ERROR,this.emit("error",e,b,d),this.emit("complete",e);this.options.uploadMultiple&&(this.emit("errormultiple",a,b,d),this.emit("completemultiple",a));if(this.options.autoProcessQueue)return this.processQueue()};return c}(r);h.version="3.10.2";h.options={};h.optionsForElement=function(g){if(g.getAttribute("id"))return h.options[u(g.getAttribute("id"))]};h.instances=[];h.forElement=function(g){"string"===typeof g&&(g=document.querySelector(g));
if(null==(null!=g?g.dropzone:void 0))throw Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return g.dropzone};h.autoDiscover=!0;h.discover=function(){var g,c,k,a,b;document.querySelectorAll?c=document.querySelectorAll(".dropzone"):(c=[],g=function(a){var b,f,g,h;h=[];f=0;for(g=a.length;f<g;f++)b=a[f],/(^| )dropzone($| )/.test(b.className)?
h.push(c.push(b)):h.push(void 0);return h},g(document.getElementsByTagName("div")),g(document.getElementsByTagName("form")));b=[];k=0;for(a=c.length;k<a;k++)g=c[k],!1!==h.optionsForElement(g)?b.push(new h(g)):b.push(void 0);return b};h.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i];h.isBrowserSupported=function(){var g,c,k,a,b;g=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(b=h.blacklistedBrowsers,
k=0,a=b.length;k<a;k++)c=b[k],c.test(navigator.userAgent)&&(g=!1);else g=!1;else g=!1;return g};y=function(g,c){var h,a,b,d;d=[];a=0;for(b=g.length;a<b;a++)h=g[a],h!==c&&d.push(h);return d};u=function(g){return g.replace(/[\-_](\w)/g,function(c){return c.charAt(1).toUpperCase()})};h.createElement=function(g){var c;c=document.createElement("div");c.innerHTML=g;return c.childNodes[0]};h.elementInside=function(g,c){if(g===c)return!0;for(;g=g.parentNode;)if(g===c)return!0;return!1};h.getElement=function(g,
c){var h;"string"===typeof g?h=document.querySelector(g):null!=g.nodeType&&(h=g);if(null==h)throw Error("Invalid `"+c+"` option provided. Please provide a CSS selector or a plain HTML element.");return h};h.getElements=function(g,c){var h,a,b,d,e;if(g instanceof Array){a=[];try{for(b=0,d=g.length;b<d;b++)h=g[b],a.push(this.getElement(h,c))}catch(f){a=null}}else if("string"===typeof g)for(a=[],e=document.querySelectorAll(g),b=0,d=e.length;b<d;b++)h=e[b],a.push(h);else null!=g.nodeType&&(a=[g]);if(null==
a||!a.length)throw Error("Invalid `"+c+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return a};h.confirm=function(g,c,h){if(window.confirm(g))return c();if(null!=h)return h()};h.isValidFile=function(g,c){var h,a,b,d,e;if(!c)return!0;c=c.split(",");a=g.type;h=a.replace(/\/.*$/,"");d=0;for(e=c.length;d<e;d++)if(b=c[d],b=b.trim(),"."===b.charAt(0)){if(-1!==g.name.toLowerCase().indexOf(b.toLowerCase(),g.name.length-b.length))return!0}else if(/\/\*$/.test(b)){if(h===
b.replace(/\/.*$/,""))return!0}else if(a===b)return!0;return!1};"undefined"!==typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(g){return this.each(function(){return new h(this,g)})});"undefined"!==typeof l&&null!==l?l.exports=h:window.Dropzone=h;h.ADDED="added";h.QUEUED="queued";h.ACCEPTED=h.QUEUED;h.UPLOADING="uploading";h.PROCESSING=h.UPLOADING;h.CANCELED="canceled";h.ERROR="error";h.SUCCESS="success";x=function(g){var c,h,a,b,d;a=g.naturalHeight;c=document.createElement("canvas");c.width=
1;c.height=a;c=c.getContext("2d");c.drawImage(g,0,0);c=c.getImageData(0,0,1,a).data;d=0;for(b=h=a;b>d;)g=c[4*(b-1)+3],0===g?h=b:d=b,b=h+d>>1;a=b/a;return 0===a?1:a};p=function(g,c,h,a,b,d,e,f,k,l){var n;n=x(c);return g.drawImage(c,h,a,b,d,e,f,k,l/n)};h._autoDiscoverFunction=function(){if(h.autoDiscover)return h.discover()};(function(g,c){var h,a,b,d,e,f,k,l,n;b=!1;n=!0;a=g.document;l=a.documentElement;h=a.addEventListener?"addEventListener":"attachEvent";k=a.addEventListener?"removeEventListener":
"detachEvent";f=a.addEventListener?"":"on";d=function(e){if("readystatechange"!==e.type||"complete"===a.readyState)if(("load"===e.type?g:a)[k](f+e.type,d,!1),!b&&(b=!0))return c.call(g,e.type||e)};e=function(){try{l.doScroll("left")}catch(a){setTimeout(e,50);return}return d("poll")};if("complete"!==a.readyState){if(a.createEventObject&&l.doScroll){try{n=!g.frameElement}catch(p){}n&&e()}a[h](f+"DOMContentLoaded",d,!1);a[h](f+"readystatechange",d,!1);return g[h](f+"load",d,!1)}})(window,h._autoDiscoverFunction)}).call(this)});
"object"==typeof exports?module.exports=k("dropzone"):"function"==typeof define&&define.amd?define([],function(){return k("dropzone")}):this.Dropzone=k("dropzone")})();